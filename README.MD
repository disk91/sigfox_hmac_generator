# Sigfox HMAC Generator

## Build
sh ./build.sh

## Get all option
./sfx_hmacgen

## Run exemple
This is generating the hmacs for a Sigfox message with no payload

./sfx_hmacgen -i 00D2XXXX -n 128 -j 1 -k B905ACEC2DA0310FA9BA94BEDDXXXXXX
 - i : device ID
 - n : number of hmac to print
 - j : seqnumber increment for each of the entries
 - k : device private Key

 ## Result
 ```C
const uint8_t sfx_id[4] = { 0x00, 0xD2, 0xXX, 0xXX };
const uint16_t sfx_hmacs[128] = { 
  0xABF4, 0xA2E6, 0x87DA, 0x8C17, 0xAA92, 0xC512, 0x03EA, 0x1D8D, 0xE98B, 0xB307, 0x030D, 0x67A5, 0x8C7B, 0xF78A, 0x7949, 0x777C
, 0xFA5D, 0x821A, 0xB349, 0x9FDD, 0xF759, 0xDFE8, 0xCC20, 0xAF33, 0x29AC, 0xC83C, 0x8244, 0x4901, 0xE7BF, 0x5505, 0x394F, 0xE775
, 0xA64D, 0xCAC9, 0xEDA4, 0x67AD, 0xC848, 0xDC1D, 0xD291, 0x5799, 0x43D5, 0x2DF3, 0xC54D, 0xF2EB, 0xB858, 0xA1EC, 0xAEEF, 0x45DE
, 0xF20F, 0x1BA7, 0xB8AD, 0xAFAC, 0x65CF, 0xE123, 0x83C8, 0x97AD, 0xD360, 0x94C3, 0x7114, 0xD189, 0x9A4F, 0xAA89, 0x2AF1, 0x8614
, 0x444D, 0xC1BD, 0x78AF, 0x08C4, 0x61E7, 0x4113, 0xD969, 0x0C40, 0x9DFF, 0x8C5F, 0x78C3, 0xA62B, 0xA8C3, 0x7967, 0xE3EB, 0xAB16
, 0x92CD, 0x61C1, 0xC6AD, 0xC2A4, 0x47A9, 0xD6F2, 0x81F0, 0x27CC, 0x88FD, 0xDB30, 0xEA8C, 0x2F94, 0xA7D3, 0x1A8C, 0x51C6, 0xC6A9
, 0x16D1, 0x1E62, 0xB9D4, 0x17F7, 0x6E35, 0x6F54, 0x7CBC, 0xA5FC, 0x9A02, 0x10F6, 0x50CD, 0xF28B, 0x46E5, 0x9D9A, 0xB5A5, 0x413E
, 0x90E6, 0xC6E8, 0x96CE, 0xA6A8, 0x1BDB, 0x2D2F, 0x4B4E, 0xF7A5, 0x9921, 0x91D2, 0x139E, 0x40B3, 0xD57A, 0x55E9, 0xE655, 0xDE14
};
 ```

## Alternative
If you want to generate hmac for a payload type bit you can specify -b option

./sfx_hmacgen -i 00D2XXXX -s 0 -n 128 -j 1 -b 1 -k B905ACEC2DA0310FA9BA94BEDDXXXXXX
- i : device ID
- s : start form seqnum 0
- n : generate 128 hmac
- j : seqnum increment
- b : activate bit payload with value 1

